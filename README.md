Репозиторий содержит тестовое задание компании-рекрутера для претендента на вакансию backend-разработчика на  <b>python</b> уровня middle. 
Задание реализовано на <b>fastapi</b> с применением <b>kafka</b> и асинхронным доступом к базе данных, реализованной на <b>postgres</b>. 

-----------------------------------------------------------------------------------------------------------------------------------------
Задание

	Разработайте сервис для обработки заявок пользователей. Сервис должен:
		1. Принимать заявки через REST API (FastAPI).
		2. Обрабатывать и записывать заявки в PostgreSQL.
		3. Публиковать информацию о новых заявках в Kafka.
		4. Обеспечить эндпоинт для получения списка заявок с фильтрацией и пагинацией.
		5. Включать Dockerfile для развертывания приложения.


Детали реализации

    1. REST API:
        - Создайте эндпоинт POST /applications для создания новой заявки.
        Заявка содержит следующие поля:
            - id (генерируется автоматически)
            - user_name (имя пользователя)
            - description (описание заявки)
            - created_at (дата и время создания, устанавливается автоматически)
        - Создайте эндпоинт GET /applications для получения списка заявок:
            - Поддержка фильрации по имени пользователя
            - Поддержка пагинации (параметры page и size)
    2. PostgreSQL:
        - Спроектируйте таблицу для хранения заявок
        - Используйте SQLAlchemy для работы с базой данных
    3. Kafka
        - Настройте публикацию данных о новых заявках в топик Kafka
        - В сообщении должно содержаться:
            - id заявки
            - user_name
            - description
            - created_at
    4. Асинхронность:
        - Убедитесь, что все взаимодействие с Kafka и PostgreSQL реализованы асинхронно
    5. Docker:
        - Подготовьте Dockerfile и docker-compose.yaml для локального запуска:
            - Приложение (FastAPI)
            - PostgreSQL
            - Kafka
    6. Документация:
        - Опишите инструкцию по запуску проекта
        - Добавьте пример запроса и ответа для эндпоинтов

    
Критерии оценки

    1. Работающий код:
        - Корректная работа API и публикации сообщений в Kafka
    2. Качество кода:
        - Использование стандартов Python (PEP8)
        - Читаемость и структура кода
    3. Проектирование БД:
        - Оптимальное решение для хранения заявок
    4. Использование технологий:
        - Работа с FastAPI, PostgreSQL, Kafka и Docker
	5. Документация:
    	- Понятность инструкций по запуску и тестированию


Дополнительно

	Реализованные дополнительные функции будут преимуществом:
		- Валидация входных данных с использованием Pydantic
		- Логирование ошибок и событий в приложении
		- Подготовка unit-тестов для ключевых компонентов


Срок выполнения
	
	Предоставьте решение в течение 7 дней

---------------------------------------------------------------------------------------------------------------------------------

Дополнительно реализован RateLimiter для ограничения количества запросов в минуту от уникального посетителя.
Данные о посетителях хранятся in memory с возможностью быстрого подключения для этих целей сервера redis.

Настроен alembic для выполнения миграций и работы с базой данных. Добавлен системный Exception Handler,
перехватывающий ошибки в случае невозможности подключения к базу данных

Отдельно монтирована директория static в связи с ограничением доступа к ресурсам некоторых 
интернет-провайдеров (конкретно есть такое у beltelecom)

Напрашивается аутентификация и проверка сообщений на уникальность по имени пользователя и описанию, но это
теоретически может противоречить заданию (т.е. требованиям заказчика). По этой же причине нет валидации имени пользователя
по длине, допустимым символам и т.д.

Все параметры вынесены в файлы окружения для быстрой настройки



# РУКОВОДСТВО ПО УСТАНОВКЕ И НАСТРОЙКЕ:

1. Клонируйте репозиторий:

	    https://github.com/Primero1800/codium_test_task.git

	Или скачайте исходный код репозитория в zip-архиве и распакуйте. 
	Войдите в директорию в файлами проекта.

2. Создайте и активируйте виртуальное окружение:

	    python3 -m venv venv
	    source venv/bin/activate

3. В файле .env.template необходимо заполнить собственные пользовательские настройки, заменив символы 
"**************" на собственные значения. Или создать в этом же каталоге новый файл .env с новыми 
значениями (в проекте предоставлен .env файл со значениями приватных параметров по умолчанию)

4. В корневой папке проекта (там, где лежат файлы dockerfile и docker-compose.yaml) запустить создание контейнера.
Предварительно убедиться, что параллельно не запущены системные kafka и postgresql.

	docker-compose up --build
